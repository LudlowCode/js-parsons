<!doctype html>
<html>
    <head>
        <title>Rearrange the algorithms</title>
        <link href="./parsons.css" rel="stylesheet" />
        <link href="./lib/prettify.css" rel="stylesheet" />
        <script src="./lib/prettify.js"></script>
    </head>
    <body>
        <h2>Bubble sort</h2>
        <p>Drag and drop the lines into the box on the right. The constructed function should bubble the highest number to the end index and repeat for the second highest to end -1 etc, until the list is sorted.</p>
        <p>Indentation matters, and there <em>may</em> be a line / lines that you shouldn't include.</p>
          
        <div id="sortableTrash" class="sortable-code"></div>
        <div id="sortable" class="sortable-code">
        </div>
        <div style="clear:both;"></div>
        <p>
            <a href="#" id="newInstanceLink">New instance</a>
            <a href="#" id="feedbackLink">Get feedback</a>
        </p>
        <script src="./lib/jquery.min.js"></script>
        <script src="./lib/jquery-ui.min.js"></script>
        <script src="./lib/jquery.ui.touch-punch.min.js"></script>
        <script src="./lib/underscore-min.js"></script>
        <script src="./lib/lis.js"></script>
        <script src="./parsons.js"></script>
        <script>
        var initial =   'Function bubbleSort(items)\n'+
                        '  n = items.Length\n'+
                        '  swapped = True //initially set swapped to True\n'+
                        '  While n > 0 AND swapped\n'+
                        '    swapped = False //reset at start of each iteration\n'+
                        '    n = n - 1\n'+
                        '    For index = 0 T0 n - 1\n'+
                        '      If items[index] > items[index+1] then\n'+
                        '        Swap(items[index], items[index+1])\n'+
                        '        swapped = True\n'+
                        '      End If\n'+
                        '    End For\n'+
                        '  End while\n'+
                        '  Return items\n'+
                        'End function\n';
        function displayErrors(fb) {
            if(fb.errors.length > 0) {
                alert(fb.errors[0]);
            }
        } 

        $(document).ready(function(){
            var parson = new ParsonsWidget({
                'sortableId': 'sortable',
                'trashId': 'sortableTrash',
                'max_wrong_lines': 1,
                'feedback_cb' : displayErrors
            });
            parson.init(initial);
            parson.shuffleLines();
            $("#newInstanceLink").click(function(event){
                event.preventDefault();
                parson.shuffleLines();
            });
            $("#feedbackLink").click(function(event){
                event.preventDefault();
                parson.getFeedback();
            });
        });
        </script>
        <footer><a href="index.html" >Take me back to the algorithms...</a></footer>
    </body>
</html>
